<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Coze 工作流聚合 - 会员中心</title>
    <!-- PWA Meta Tags -->
    <meta name="description" content="AI 工作流聚合平台，提供各类智能工作流服务">
    <meta name="theme-color" content="#007AFF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Coze工作流">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/icon-192x192.png">
    
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- 公共样式 -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Tailwind 自定义配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ios-blue': '#007AFF',
                        'ios-green': '#34C759',
                        'ios-orange': '#FF9500',
                        'ios-red': '#FF3B30',
                        'ios-purple': '#AF52DE',
                        'ios-gray': {
                            100: '#F2F2F7',
                            200: '#E5E5EA',
                            500: '#8E8E93',
                            900: '#1C1C1E'
                        }
                    },
                    fontFamily: {
                        'ios': ['-apple-system', 'BlinkMacSystemFont', 'SF Pro Text', 'Helvetica Neue', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style>
        /* 会员中心渐变背景 */
        .member-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        /* 套餐卡片样式 */
        .package-card {
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        
        .package-card.selected {
            border-color: #007AFF;
            box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);
        }
        
        .package-card:active {
            transform: scale(0.98);
        }
        
        /* 推荐标签 */
        .recommend-tag {
            position: absolute;
            top: -10px;
            right: 16px;
            padding: 2px 10px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
        }
        
        /* 底部固定按钮 */
        .fixed-bottom-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #FFFFFF;
            border-top: 1px solid #E5E5EA;
            padding: 12px 16px;
            padding-bottom: 34px; /* 安全区域 */
        }
        
        /* 权益图标容器 */
        .benefit-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>

    <!-- PWA Service Worker 注册 -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker 注册成功:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker 注册失败:', error);
                    });
            });
        }
    </script>
</head>
<body>
    <!-- 设备容器 -->
    <div class="device-container">
        <div class="page-content">
            
            <!-- 导航栏 - 返回按钮 -->
            <div class="member-gradient px-4 pb-6">
                <div class="flex items-center justify-between">
                    <a href="profile.html" class="w-10 h-10 flex items-center justify-center text-white text-lg">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <span class="text-white font-semibold text-lg">会员中心</span>
                    <span class="w-10"></span>
                </div>
            </div>
            
            <!-- 主内容区域 -->
            <main class="main-content bg-ios-gray-100">
                
                <!-- 当前会员状态卡片 -->
                <div class="member-gradient mx-4 -mt-2 rounded-2xl p-5 text-white shadow-lg relative overflow-hidden">
                    <!-- 装饰性背景圆 -->
                    <div class="absolute -right-10 -top-10 w-32 h-32 bg-white/10 rounded-full"></div>
                    <div class="absolute -right-5 bottom-0 w-20 h-20 bg-white/5 rounded-full"></div>
                    
                    <div class="relative z-10">
                        <!-- 会员等级和到期时间 -->
                        <div class="flex items-center gap-4 mb-5">
                            <div class="w-16 h-16 rounded-full bg-white/20 flex items-center justify-center">
                                <i class="fas fa-crown text-3xl text-yellow-300"></i>
                            </div>
                            <div>
                                <div class="text-xl font-bold">普通会员</div>
                                <div class="text-white/80 text-sm mt-1">升级享更多权益</div>
                            </div>
                        </div>
                        
                        <!-- 会员权益列表 -->
                        <div class="grid grid-cols-4 gap-3">
                            <div class="text-center">
                                <div class="benefit-icon mx-auto mb-2">
                                    <i class="fas fa-infinity text-sm"></i>
                                </div>
                                <div class="text-xs opacity-90">无限使用</div>
                            </div>
                            <div class="text-center">
                                <div class="benefit-icon mx-auto mb-2">
                                    <i class="fas fa-bolt text-sm"></i>
                                </div>
                                <div class="text-xs opacity-90">优先响应</div>
                            </div>
                            <div class="text-center">
                                <div class="benefit-icon mx-auto mb-2">
                                    <i class="fas fa-star text-sm"></i>
                                </div>
                                <div class="text-xs opacity-90">专属工作流</div>
                            </div>
                            <div class="text-center">
                                <div class="benefit-icon mx-auto mb-2">
                                    <i class="fas fa-headset text-sm"></i>
                                </div>
                                <div class="text-xs opacity-90">专属客服</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 会员套餐列表 -->
                <div class="px-4 py-5">
                    <h3 class="text-lg font-semibold text-ios-gray-900 mb-4">选择套餐</h3>
                    
                    <!-- 月卡套餐 -->
                    <div class="package-card bg-white rounded-xl p-4 mb-3 cursor-pointer relative" onclick="selectPackage(this, 'monthly', 19.9)">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-ios-gray-900 text-base">月卡会员</div>
                                <div class="text-sm text-ios-gray-500 mt-1">30天有效期</div>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-ios-blue">¥19.9</div>
                                <div class="text-xs text-ios-gray-500 line-through">¥29.9</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 季卡套餐 - 推荐 -->
                    <div class="package-card bg-white rounded-xl p-4 mb-3 cursor-pointer relative selected" onclick="selectPackage(this, 'quarterly', 49.9)">
                        <span class="recommend-tag bg-ios-orange text-white">推荐</span>
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-ios-gray-900 text-base">季卡会员</div>
                                <div class="text-sm text-ios-gray-500 mt-1">90天有效期</div>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-ios-blue">¥49.9</div>
                                <div class="text-xs text-ios-gray-500 line-through">¥89.7</div>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-ios-gray-100">
                            <span class="text-xs text-ios-orange">
                                <i class="fas fa-tag mr-1"></i>省39.8元，相当于5.5折
                            </span>
                        </div>
                    </div>
                    
                    <!-- 年卡套餐 - 超值 -->
                    <div class="package-card bg-white rounded-xl p-4 mb-3 cursor-pointer relative" onclick="selectPackage(this, 'yearly', 149.9)">
                        <span class="recommend-tag bg-ios-red text-white">超值</span>
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-semibold text-ios-gray-900 text-base">年卡会员</div>
                                <div class="text-sm text-ios-gray-500 mt-1">365天有效期</div>
                            </div>
                            <div class="text-right">
                                <div class="text-2xl font-bold text-ios-blue">¥149.9</div>
                                <div class="text-xs text-ios-gray-500 line-through">¥358.8</div>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-ios-gray-100">
                            <span class="text-xs text-ios-red">
                                <i class="fas fa-fire mr-1"></i>省208.9元，相当于4.2折
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- 会员权益说明 -->
                <div class="px-4 pb-28">
                    <h3 class="text-lg font-semibold text-ios-gray-900 mb-3">会员权益</h3>
                    <div class="bg-white rounded-xl p-4">
                        <div class="flex items-start gap-3 mb-4">
                            <i class="fas fa-check-circle text-ios-green mt-0.5"></i>
                            <div>
                                <div class="font-medium text-ios-gray-900">无限次使用所有工作流</div>
                                <div class="text-sm text-ios-gray-500 mt-1">会员期间不限次数使用</div>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 mb-4">
                            <i class="fas fa-check-circle text-ios-green mt-0.5"></i>
                            <div>
                                <div class="font-medium text-ios-gray-900">专属会员工作流</div>
                                <div class="text-sm text-ios-gray-500 mt-1">解锁会员专享高级工作流</div>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 mb-4">
                            <i class="fas fa-check-circle text-ios-green mt-0.5"></i>
                            <div>
                                <div class="font-medium text-ios-gray-900">优先响应速度</div>
                                <div class="text-sm text-ios-gray-500 mt-1">会员请求优先处理</div>
                            </div>
                        </div>
                        <div class="flex items-start gap-3">
                            <i class="fas fa-check-circle text-ios-green mt-0.5"></i>
                            <div>
                                <div class="font-medium text-ios-gray-900">专属客服支持</div>
                                <div class="text-sm text-ios-gray-500 mt-1">7×24小时在线客服</div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </main>
            
            <!-- 底部购买按钮 -->
            <div class="fixed-bottom-bar">
                <a href="payment.html" id="purchaseBtn" class="block w-full bg-ios-blue text-white text-center py-3.5 rounded-xl font-semibold text-lg active:bg-blue-600 transition-colors">
                    立即开通 · ¥<span id="selectedPrice">49.9</span>
                </a>
            </div>
            
        </div>
    </div>
    
    <script>
        // 当前选中的套餐
        let selectedPackage = 'quarterly';
        
        // 选择套餐
        function selectPackage(element, packageType, price) {
            // 移除所有卡片的选中状态
            document.querySelectorAll('.package-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // 添加当前卡片的选中状态
            element.classList.add('selected');
            
            // 更新选中的套餐和价格
            selectedPackage = packageType;
            document.getElementById('selectedPrice').textContent = price.toFixed(1);
        }
    </script>
</body>
</html>
